--- libnids-1.18/configure.in.orig	2003-10-15 01:40:00.000000000 +0200
+++ libnids-1.18/configure.in	2003-10-27 23:00:07.224952248 +0100
@@ -127,18 +127,18 @@
      ;;
   *)
      AC_MSG_RESULT($withval)
-     if test -f $withval/include/libnet.h -a -f $withval/lib/libnet.a -a -f $withval/libnet-config ; then
+     if test -f $withval/include/libnet1.h -a -f $withval/lib/libnet1.a -a -f $withval/libnet1-config ; then
         owd=`pwd`
         if cd $withval; then withval=`pwd`; cd $owd; fi
-	LNET_CFLAGS="-I$withval/include `$withval/libnet-config --defines`"
-	LNETLIB="-L$withval/lib -lnet"
-     elif test -f $withval/include/libnet.h -a -f $withval/src/libnet.a; then
+	LNET_CFLAGS="-I$withval/include `$withval/libnet1-config --defines`"
+	LNETLIB="-L$withval/lib -lnet1"
+     elif test -f $withval/include/libnet1.h -a -f $withval/src/libnet1.a; then
         owd=`pwd`
         if cd $withval; then withval=`pwd`; cd $owd; fi
 	LNET_CFLAGS="-I$withval/include"
-	LNETLIB="-L$withval/src -lnet"
+	LNETLIB="-L$withval/src -lnet1"
      else
-	echo "A working combination of libnet.h, libnet.a and libnet-config not found in $withval; get libnet from www.packetfactory.net/projects/libnet and reinstall"
+	echo "A working combination of libnet1.h, libnet1.a and libnet1-config not found in $withval; get libnet from www.packetfactory.net/projects/libnet and reinstall"
         AC_ERROR(libnet)
      fi
      ;;
@@ -146,12 +146,12 @@
 [ if test "x"$LIBNET_VER = "x"-1 ; then
 	AC_MSG_RESULT(skipping libnet)
   else
-	if test -f ${prefix}/include/libnet.h -a ${exec_prefix}/lib/libnet.a ; then
-	     LNET_CFLAGS="-I${prefix}/include `${exec_prefix}/bin/libnet-config --defines 2>/dev/null`"
-	     LNETLIB="-L${exec_prefix}/lib -lnet"
+	if test -f ${prefix}/include/libnet1.h -a ${exec_prefix}/lib/libnet1.a ; then
+	     LNET_CFLAGS="-I${prefix}/include `${exec_prefix}/bin/libnet1-config --defines 2>/dev/null`"
+	     LNETLIB="-L${exec_prefix}/lib -lnet1"
 	else
-	     LNET_CFLAGS="`libnet-config --defines 2>/dev/null`"
-	     LNETLIB="-lnet"
+	     LNET_CFLAGS="`libnet1-config --defines 2>/dev/null`"
+	     LNETLIB="-lnet1"
 	fi
   fi ]
 )
@@ -161,15 +161,15 @@
 	TMPL="$LIBS"
 	CFLAGS="$CFLAGS $LNET_CFLAGS"
 	LIBS="$LNETLIB $LIBS"
-	AC_TRY_LINK([#include <libnet.h>], libnet_get_prand(0),
+	AC_TRY_LINK([#include <libnet1.h>], libnet_get_prand(0),
 		LIBNET_FOUND=1,LIBNET_FOUND=0)
 	CFLAGS="$TMPC"
 	LIBS="$TMPL"
 	if test $LIBNET_FOUND = 1 ; then
-		LNETLIB="-lnet"
+		LNETLIB="-lnet1"
 		AC_MSG_RESULT(yes)
 	else
-		echo "Working libnet not found; get it from www.packetfactory.net/projects/libnet and reinstall"
+		echo "Working libnet1 not found; get it from www.packetfactory.net/projects/libnet and reinstall"
 		AC_ERROR(libnet)
 	fi
 fi
@@ -227,7 +227,7 @@
 	TMP=$CFLAGS
 	CFLAGS="$CFLAGS $LNET_CFLAGS"
 	AC_MSG_CHECKING(libnet version)
-	AC_TRY_COMPILE([#include <libnet.h>], int c=LIBNET_PTAG_INITIALIZER,
+	AC_TRY_COMPILE([#include <libnet1.h>], int c=LIBNET_PTAG_INITIALIZER,
 	LIBNET_VER=1,LIBNET_VER=0)
 	CFLAGS=$TMP
 	if test $LIBNET_VER = 1 ; then 
diff -Nur libnids-1.17.orig/src/killtcp.c libnids-1.17/src/killtcp.c
--- libnids-1.17.orig/src/killtcp.c	Wed Aug 21 18:19:40 2002
+++ libnids-1.17/src/killtcp.c	Wed Aug 27 23:20:28 2003
@@ -9,7 +9,7 @@
 #include "util.h"
 #include "nids.h"
 #if LIBNET_VER == 0
-#include <libnet.h>
+#include <libnet1.h>
 
 static int libnetsock = 0;
 
@@ -46,7 +46,7 @@
 	return 1;
 }
 #elif LIBNET_VER == 1
-#include <libnet.h>
+#include <libnet1.h>
 static libnet_ptag_t tcp_tag = LIBNET_PTAG_INITIALIZER,
     ip_tag = LIBNET_PTAG_INITIALIZER;
 static libnet_t *l = 0;
